<%- include('partials/header') %>

<div class="navc">
    <!-- Your navigation bar code here -->
</div>

<div class="main w-full h-screen">
    <!-- Search form -->
    <div class="search">
        <form action="/search-results" method="GET">
            <input type="text" name="q" class="w-96 h-10 rounded-full px-4" placeholder="Search">
            <button type="submit">Search</button>
        </form>
    </div>

    <% if (query) { %>
        <div class="search-results">
            <h2>Search Results for: <%= query %></h2>
            <% if (users.length > 0) { %>
                <ul>
                    <% users.forEach(user => { %>
                        <li><a href="/profile/<%= user.username %>"><%= user.fullname %> (@<%= user.username %>)</a></li>
                    <% }); %>
                </ul>
            <% } else { %>
                <p>No users found.</p>
            <% } %>
        </div>
    <% } %>
    


    <!-- Posts section -->
    <div class="cards flex flex-wrap gap-10">
        <% posts.forEach(function(elem) { %>
            <div class="card w-64">
                <div class="w-64 h-40 bg-red-500 ml-4 mr-4 mt-4 rounded-md overflow-hidden">
                    <img class="w-full h-full object-cover" src="/images/uploads/<%= elem.postimage %>" alt="">
                </div>
                <h1 class="text-zinc-700 text-x ml-4 py-0 "><%= elem.caption %></h1>
                <p class="text-zinc-500 ml-4 py-0">@<%= elem.user.username %></p>
            </div>
        <% }); %>
    </div>
</div>

<%- include('partials/footer') %>