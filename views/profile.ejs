<%- include('partials/header') %>
<link rel="stylesheet" href="/stylesheets/profile.css">
<div class="navc">
    <div class="nav w-full h-16 bg-zinc-200 flex justify-between items-center px-4 gap-8">
        <div class="logo">
            <i class="ri-pinterest-fill text-3xl text-[#E60023]"></i>
        </div>
        <div class="search">
            <form action="/search-results" method="GET">
                <input type="text" name="q" class="w-96 h-10 rounded-full px-4" placeholder="Search">
                <button type="submit">
                    <i class="ri-search-line"></i>
                </button>
            </form>
        </div>
        <div class="nav-links gap-10 flex ">
            <a href="/feed" class="text-l font-semibold w-20 text-center py-2 h-10  rounded-full hover:bg-black hover:text-white  ">Home</a>
            <a href="/createposts" class="text-l font-semibold w-20 text-center py-2 h-10  rounded-full hover:bg-black hover:text-white">Create</a>
            <a href="/logout" class="text-l font-semibold w-20 text-center py-2 h-10  rounded-full hover:bg-black hover:text-white">Logout</a>
        </div>
    </div>
</div>
<div class="main w-full h-screen pt-1  ">
    <div class="fmcnt">
        <form id="dpf" hidden action="/dpupload" method="post" enctype="multipart/form-data">
            <input class="block" type="file" name="dp" id="dpInput">
            <input class="block" type="submit">
        </form>
    </div>
    <div class="per-cnt w-full h-64  mt-16 realative  ">
        
        <div class="dpcnt relative">
            <div class="img-cnt w-32 h-32 bg-gray-400 rounded-full mx-auto overflow-hidden">
                <img src="./images/uploads/<%= user.dp%>" alt="profile" class="w-full h-full object-cover ">
                <span id="dpicn" class="absolute top-20 right-[555px] w-10 h-10 rounded-full flex items-center justify-center  bg-zinc-200">
                    <i class="ri-pencil-fill text-black"></i>
                </span>
            </div>
        </div>
        
            <div class="name-cnt text-center mt-2">
                <h1 class="text-xl font-semibold text-zinc-800 "><%= user.fullname %></h1>
                <h3 class="text-xs text-zinc-500 ">@<%= user.username %></h3>
                <h3 class="text-zinc-500 ">0 Following</h3>
            </div>
        

    </div>
    <div class="shcnt flex justify-center w-full h-16   gap-10 text-center   ">
        <a class="bg-[#E9E9E9] w-32 h-10 rounded-full py-2  " href="">Share</a>
        <a class="bg-[#E9E9E9] w-32 h-10 rounded-full py-2  " href="">Editprofile</a>

    </div>

    <div class="cr-cnt flex justify-center gap-10 w-full h-16  items-center mt-4 ">
        <a class="text-l font-semibold" href="">Created</a>
        <a class="text-l font-semibold underline decoration-solid decoration-2 underline-offset-4  " href="">Saved</a>

    </div>
    <div class="ic-cnt w-full h-16 flex  justify-end items-center text-bold px-4    ">
        <a href="/createposts" id="addi" class="ri-add-line text-3xl "></a>
    </div>
    <div class="p-cnt w-full h-screen  mt-6    ">
        <div class="cards flex flex-wrap  gap-10      ">
            <div class="card w-64 h-40   rounded-xl  ml-4   mt-2 py-2 overflow-hidden  ">
                <div class=" bg-red-500 w-full h-full  overflow-hidden border-solid border-2 border-sky-500 rounded-md  ">
                    <img class="w-full h-full object-cover " src="/images/uploads/<%= user?.posts[0]?.postimage %>" alt="">
                </div>
                <div class="text-center">  
            </div>
        </div> 
    </div>
    <a href="/showposts" class="text-l font-semibold ml-4 ">SAVED PINS</a>
            <h3 class="text-xs text-zinc-500 ml-4  "><%=user.posts.length%></h3>
</div>

<script>
    // Select the file input element
    const fileInput = document.getElementById("dpInput");

    // Trigger file input click event when clicking on the icon
    document.querySelector("#dpicn").addEventListener("click", function() {
        fileInput.click();
    });

    // Submit the form when a file is selected
    fileInput.addEventListener("change", function() {
        document.getElementById("dpf").submit();
    });

    document.getElementById("#addi").addEventListener("click", function() {
        window.location.href = "/createposts";
    });
</script>
<%- include('partials/footer') %>
    
